(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{3967:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Next.js/01-Routing/01-04-Linking-and-Navigating",function(){return n(2418)}])},2418:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return c},default:function(){return h}});var i=n(5893),r=n(2673),t=n(9298),o=n(9812);n(6834);var l=n(2643),a={src:"/_next/static/media/partial-rendering.3619cb02.avif",height:945,width:1600,blurDataURL:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB4AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAgAAAAFAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACZtZGF0EgAKCBgIvGiBAQNCMhAXwAAASBAAa8dpVeicJmEw",blurWidth:8,blurHeight:5};let c=[{depth:2,value:"<Link> Component",id:"link-component"},{depth:2,value:"Examples",id:"examples"},{depth:3,value:"Linking to Dynamic segments",id:"linking-to-dynamic-segments"},{depth:3,value:"Checking Active Links",id:"checking-active-links"},{depth:3,value:"Scrolling to an id",id:"scrolling-to-an-id"},{depth:3,value:"Disabling scrool restoration",id:"disabling-scrool-restoration"},{depth:2,value:"useRouter() Hook",id:"userouter-hook"},{depth:2,value:"How Routing and Navigation Works",id:"how-routing-and-navigation-works"},{depth:3,value:"1. Prefetching",id:"1-prefetching"},{depth:3,value:"2. Caching",id:"2-caching"},{depth:3,value:"3. Partial Rendering",id:"3-partial-rendering"},{depth:3,value:"4. Soft Navigation",id:"4-soft-navigation"},{depth:3,value:"5. Back and Forward navigation",id:"5-back-and-forward-navigation"},{depth:2,value:"Next Steps",id:"next-steps"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",p:"p",ol:"ol",li:"li",code:"code",h2:"h2",pre:"pre",span:"span",a:"a",h3:"h3",blockquote:"blockquote",ul:"ul",strong:"strong",img:"img"},(0,l.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{children:"01-04 การสร้าง Link และ Navigation ใน Next.js(Linking and Navigating)"}),"\n",(0,i.jsx)(s.p,{children:"ในการทำ Navigate ระหว่าง routes ใน Next.js มีอยู่ 2 แนวทาง คือ"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["ใช้คอมโพแนนท์ ",(0,i.jsx)(s.code,{children:"<Link>"})]}),"\n",(0,i.jsxs)(s.li,{children:["ใช้ ",(0,i.jsx)(s.code,{children:"useRouter"})," Hook"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["ในบทนี้เราจะเรียนรู้เกี่ยวกับการใช้ ",(0,i.jsx)(s.code,{children:"<Link>"})," ",(0,i.jsx)(s.code,{children:"useRouter()"})," และลงลึกไปถึงการทำงานของ navigation"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsxs)(s.h2,{id:"link-component",children:[(0,i.jsx)(s.code,{children:"<Link>"})," Component"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"<Link>"})," เป็นวิธีพื้นฐานในการนำทางระหว่าง routes ใน Next.js เป็น built-in component ที่ขยายเพิ่มเติมมาจากแท็ก ",(0,i.jsx)(s.code,{children:"<a>"})," ของ HTML ที่จะทำให้เราทำการ ",(0,i.jsx)(s.code,{children:"prefetching"})," และ นำทางระหว่าง route ใน client-side"]}),"\n",(0,i.jsxs)(s.p,{children:["เราสามารถ ",(0,i.jsx)(s.code,{children:"import"})," จาก ",(0,i.jsx)(s.code,{children:"next/link"})," และส่งค่าผ่าน ",(0,i.jsx)(s.code,{children:"href"})," prop ไปให้ component"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",filename:"app/page.tsx",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"1",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" Link "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"next/link"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Page"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/dashboard"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">Dashboard</"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">;"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["นอกจากนี้ยังมีวิธีอื่นอีกในการส่ง prop ผ่าน ",(0,i.jsx)(s.code,{children:"<Link>"}),"\nลองศึกษาหัวข้อ ",(0,i.jsx)(s.a,{href:"https://nextjs.org/docs/app/api-reference",children:"API reference"})," เพิ่มเติม"]}),"\n",(0,i.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(s.h3,{id:"linking-to-dynamic-segments",children:"Linking to Dynamic segments"}),"\n",(0,i.jsx)(s.p,{children:"เมื่อเราจะใช้ link ทำงานกับ Dynamic segment เราสามารถใช้ template literals และ interpolation ในการสร้างรายการของ link ขึ้นมา เรามาดูวิธีการสร้างรายการของ blog post กัน"}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",filename:"app/blog/PostList.js",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"2",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" Link "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'next/link'"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"PostList"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({posts}){"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"ul"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            {"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"posts"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".map"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"((post)"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"li"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"key"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"post"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".id}>"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                    <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`/blog/"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"post"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".slug"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{post.title}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"</"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"</"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"li"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            ))}"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        </ul>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsx)(s.h3,{id:"checking-active-links",children:"Checking Active Links"}),"\n",(0,i.jsxs)(s.p,{children:["เราสามารใช้ ",(0,i.jsx)(s.code,{children:"usePathname()"})," เพื่อหา link ที่กำลังทำงานได้ ตัวอย่างเช่น ถ้าเราจะเพิ่ม class เข้าไปใน link ที่กำลังทำงาน เราจะต้องตรวจสอบว่า link ปัจจุบัน pathname ตรงกันกับ href ที่อ้างถึงหรือไม่"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",filename:"app/component/links.tsx",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"2",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'use client'"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { usePathname } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'next/navigation'"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" Link "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'next/link'"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Links"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"pathname"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"usePathname"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"nav"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"ul"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"li"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                    <"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"className"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`link "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pathname "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'active'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/>"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"                    Home"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"                    </Link>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"                </li>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"                <li>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"                    <Link"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"                        className={`link ${pathname === '"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"about' ? "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'acive'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" : "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}`}"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                        "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/about"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                    >"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                    </"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"                </"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"li"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            </"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"ul"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        </"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"nav"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsxs)(s.h3,{id:"scrolling-to-an-id",children:["Scrolling to an ",(0,i.jsx)(s.code,{children:"id"})]}),"\n",(0,i.jsx)(s.p,{children:"ค่าตั้งต้นใน App Router ของ Next.js จะเป็น scroll to the top ของ new route หรือ อยู่ที่ตำแหน่งเดิมสำหรับ การย้อนกลับ(backward) หรือ การนำทางไปข้างหน้า(forward)"}),"\n",(0,i.jsxs)(s.p,{children:["ถ้าเราต้องการให้ scroll ไปที่ตำแหน่งของ id ที่ต้องการ เราสามารถต่อท้ายด้วย ",(0,i.jsx)(s.code,{children:"#"})," เพื่อเชื่อมหรือส่งผ่าน hash link เข้าไปให้ href prop เราสามารถใช้ได้กับ ",(0,i.jsx)(s.code,{children:"<Link>"})," ในการ render ไปให้ ",(0,i.jsx)(s.code,{children:"<a>"})," element"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"1",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/dashboard#setting"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">Setting</"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Output"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"a"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/dashboard#setting"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">Setting</"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"a"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "})]})}),"\n",(0,i.jsx)(s.h3,{id:"disabling-scrool-restoration",children:"Disabling scrool restoration"}),"\n",(0,i.jsxs)(s.p,{children:["ค่าตั้งต้นของ App Router ใน Next.js คือ scroll to top ของ route ใหม่ หรือ อยู่ที่ตำแหน่งเดิมสำหรับ การย้อนกลับ และ การนำทางไปข้างหน้า\nถ้าเราต้องการตั้งค่าใหม่เราสามารถทำได้โดยตั้งค่า ",(0,i.jsx)(s.code,{children:"scroll={false}"})," ใน ",(0,i.jsx)(s.code,{children:"<Link>"})," component หรือ ",(0,i.jsx)(s.code,{children:"scroll:false"})," ไปให้ ",(0,i.jsx)(s.code,{children:"router.push()"})," หรือ router.replace()`"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"1",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// next/link"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"href"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/dashboard"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"scroll"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}>"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  Dashboard"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"</"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Link"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]})]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"1",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// useRouter"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { useRouter } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"next/navigation"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"router"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"useRouter"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"router"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".push"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/dashboard"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { scroll"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" });"})]})]})}),"\n",(0,i.jsxs)(s.h2,{id:"userouter-hook",children:[(0,i.jsx)(s.code,{children:"useRouter()"})," Hook"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"useRouter"})," hook เป็นคำสั่งที่ทำให้เราสามารถเปลี่ยน routes ได้"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"useRouter"})," นี้ใช้ได้เฉพาะใน ",(0,i.jsx)(s.code,{children:"use client"})," เท่านั้น และเราต้อง ",(0,i.jsx)(s.code,{children:"import from next/navigation"}),"\n",(0,i.jsx)(s.code,{children:"app/page.js"})]}),"\n",(0,i.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",filename:"app/page.js",children:(0,i.jsxs)(s.code,{"data-line-numbers":"","data-language":"tsx","data-theme":"default","data-line-numbers-max-digits":"2",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'use client'"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { useRouter } "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'next/navigation'"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" funtion "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Page"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    const router "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"useRouter"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"return"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        <button type"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"button"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" onClick"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{()=>router.push("}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/dashboard'"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")}>"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"            Dashboard"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        </button>"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    )"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["รายการคำสั่งสำหรับ ",(0,i.jsx)(s.code,{children:"useRouter"})," ทั้งหมด ดูได้ที่ ",(0,i.jsx)(s.a,{href:"https://nextjs.org/docs/app/api-reference",children:"API reference"})]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Next.js แนะนำให้ใช้ ",(0,i.jsx)(s.code,{children:"<Link>"})," ในการนำทางระหว่าง routes จนกว่าจะมีความต้องการเฉพาะที่ต้องใช้ ",(0,i.jsx)(s.code,{children:"useRouter"})]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"how-routing-and-navigation-works",children:"How Routing and Navigation Works"}),"\n",(0,i.jsx)(s.p,{children:"App Router ของ NExt.js ใช้การผสมกันระหว่า routing และ navigation\nฝั่ง server โค้ดของเราจะถูแแบ่งโดย route-segment และฝั่ง client นั้น Next.js จะทำการ prefetches และ caches ตัว route segment หมายความว่า เมื่อ user navigetes ไปที่ new route ตัว browser จะไม่ทำการ reload page จะมีเฉพาะ route segment เท่านั้นที่ทำการ re-render ใหม่ การทำแบบนี้เพื่อทำให้ navigation experience และ performance ดีขึ้น"}),"\n",(0,i.jsx)(s.h3,{id:"1-prefetching",children:"1. Prefetching"}),"\n",(0,i.jsx)(s.p,{children:"prefetching คือ การ preload ตัว route ในการทำงานแบบเบื้องหลัง ก่อนที่ผู้ใช้จะเข้าไปใช้งาน"}),"\n",(0,i.jsx)(s.p,{children:"การ Prefetching ใน Next.js มี 2 แนวทาง คือ"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"<Link>"})," component: Routes ต่างๆ จะถูก prefetch โดยอัตโนมัติ เตรียมพร้อมเพื่อแสดงผลให้ user ดู จะเกิดขึ้นเมื่อมีการโหลดหน้าขึ้นมาครั้งแรก หรือเมื่อมีการดูผ่าน scroll"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"`router.prefetch(): โดยใช้ useRouter ในการสั่ง prefetch routes"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["การ prefetchig ของ ",(0,i.jsx)(s.code,{children:"<Link>"})," จะแตกต่างกันระหว่าง stacic กับ dynamic routes ดังนี้:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Static Routes: ค่าของ ",(0,i.jsx)(s.code,{children:"prefetch"})," คือ ",(0,i.jsx)(s.code,{children:"true"})," นั่นคือ routes ที่มีอยู่จะถูกทำ prefetched และ cached ไว้"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Dynamic Routes: ค่าของ ",(0,i.jsx)(s.code,{children:"prefetch"})," คือ ",(0,i.jsx)(s.code,{children:"automatic"})," มีเฉพาะ shared layout ที่ถูกเตรียมไว้ จนกว่า loading.js จะถูก prefetch และจะทำการ cached ไว้ 30 วินาที การทำแบบนี้จะทำให้ลดการ fetching ของ dynamic routes ที่มีอยู่ทั้งหมด หมายความว่า เราสามารถแสดง instant loading state สำหรับแสดงผลให้กับ user"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["เราสามารถปิดการ prefetching โดย ตั้งค่าที่ ",(0,i.jsx)(s.code,{children:"prefetch"})," prop ให้เป็น ",(0,i.jsx)(s.code,{children:"false"})]}),"\n",(0,i.jsxs)(s.p,{children:["สามารถศึกษาเพิ่มเติมเกี่ยวกับ ",(0,i.jsx)(s.code,{children:"<Link>"})," ได้ที่ ",(0,i.jsx)(s.a,{href:"https://nextjs.org/docs/app/api-reference",children:"API reference"})]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"ความรู้เพิ่มเติม:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Prefetching จะทำงานเฉพาะ production เท่านี้ จะไม่ทำงานใน development"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"2-caching",children:"2. Caching"}),"\n",(0,i.jsxs)(s.p,{children:["Next.js มีการใช้ in-memory client-side cached เรียกว่า ",(0,i.jsx)(s.strong,{children:"Router Cache"}),"\nเมื่อ user ได้เปิดหน้าต่างๆของ app ตัว React Server Component Payload ของ prefetched route segment และ routes ที่ได้ดูไปแล้วจะถูกเก็บไว้ใน cache"]}),"\n",(0,i.jsx)(s.p,{children:"หมายความว่า ในการนำทางไปหน้าต่างๆนั้น Next.js จะนำข้อมูลใน cache มาใช้ใหม่ให้มากที่สุดเท่าที่เป็นไปได้ - การทำแบบนี้จะเป็นการลดจำนวนการ request ไปที่ server ซึ่งเป็นการปรับปรุงประสิทธิภาพโดยการลดจำนวนครั้งของการ request และ การถ่ายโอนข้อมูล"}),"\n",(0,i.jsx)(s.p,{children:"ดูข้อมูลเพิ่มเติมในหัวข้อ Data Fetching สำหรับการทำงานของ Router Cache และการตั้งค่า"}),"\n",(0,i.jsx)(s.h3,{id:"3-partial-rendering",children:"3. Partial Rendering"}),"\n",(0,i.jsx)(s.p,{children:"Partial Rendering คือการ re-render เฉพาะส่วนที่มีการเปลี่ยนแปลงของ route segment บน client และส่วนที่เป็น shared segment ที่จองไว้เท่านั้น"}),"\n",(0,i.jsxs)(s.p,{children:["ตัวอย่างเช่น เมื่อ มีการนำทางระหว่าง 2 routes ที่อยู่ในระดับเดียวกัน อย่าง ",(0,i.jsx)(s.code,{children:"/dashboard/setting"})," และ ",(0,i.jsx)(s.code,{children:"dashboard/analytics"})," ตัว route segment ที่อยู่ในระดับเดียวกัน คือ ",(0,i.jsx)(s.code,{children:"setting"})," และ ",(0,i.jsx)(s.code,{children:"analytics"})," ที่จะถูก render และ ใช้ layout ใน dashboard ร่วมกัน\n",(0,i.jsx)(s.img,{placeholder:"blur",src:a}),"\nถ้าไม่มีการ render บางส่วน จะทำให้ต้อง render ใหม่ทั้งหมดบน server\nการ render บางส่วน ทำให้ลดจำนวนการถ่ายโอนข้อมูลและเวลาในการทำงาน ซึ่งหมายถึงการทำให้แอพมีประสิทธิภาพมากขึ้น"]}),"\n",(0,i.jsx)(s.h3,{id:"4-soft-navigation",children:"4. Soft Navigation"}),"\n",(0,i.jsxs)(s.p,{children:["โดยค่าเริ่มต้น browser จะทำการ hard navigation ระหว่าง page หมายความว่า browser จะทำการ reload หน้าเพจและ reset React state เหมือนกับการใช้ ",(0,i.jsx)(s.code,{children:"useState"})," และ reset browser state ให้กลับไปที่ค่าเริ่มต้น เช่น scroll postion ของ user หรือ fucused element\nแต่อย่างไรก็ตาม App Router ของ Next.js ใช้ soft navigation หมายความว่า React จะ render เฉพาะ segmment ที่มีการเปลี่ยนแปลงทั้ง React และ browser state และจะไม่ทำ full page reload"]}),"\n",(0,i.jsx)(s.h3,{id:"5-back-and-forward-navigation",children:"5. Back and Forward navigation"}),"\n",(0,i.jsx)(s.p,{children:"ค่าเริ่มต้นของ Next.js จะรักษา scroll position สำหรับ backward และ forward ไว้ และ re-use route segment ที่เก็บไว้ใน Router Cache"}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(s.p,{children:["ต่อไปเราจะไปเรียนรู้เกี่ยวกับ ",(0,i.jsx)(s.a,{href:"https://themodcoding.vercel.app/blogs/01-05-Route-Groups",children:"01-05-Route-Groups"})," กัน"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.p,{children:"แปลและเรียบเรียงโดย ModTdin"}),"\n",(0,i.jsxs)(s.p,{children:["Original: ",(0,i.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating",children:"Linking and Navigating"})]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://themodcoding.vercel.app/blogs/01-03-Pages-and-Layouts",children:"01-03-Pages-and-Layouts"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/",children:(0,i.jsx)(s.strong,{children:"Home"})})})]})}let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,l.a)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/Next.js/01-Routing/01-04-Linking-and-Navigating.mdx",route:"/Next.js/01-Routing/01-04-Linking-and-Navigating",frontMatter:{title:"01-04 Linking and Navigating",description:"การสร้าง Link และ Navigation ใน Next.js"},timestamp:1705286637e3,pageMap:[{kind:"Folder",name:"Expressjs",route:"/Expressjs",children:[{kind:"Meta",data:{express:{title:"Express Home"},"--------":{type:"separator"},"getting-started":{title:"การสร้าง server ด้วย Express.js"},"express-application":"Express Application"}},{kind:"MdxPage",name:"express-application",route:"/Expressjs/express-application",frontMatter:{title:"Express Application",description:"Express Application"}},{kind:"MdxPage",name:"express",route:"/Expressjs/express"},{kind:"MdxPage",name:"getting-started",route:"/Expressjs/getting-started",frontMatter:{title:"การสร้าง server ด้วย Express.js",description:"การสร้างแอปพลิเคชั่นด้วย Express.js"}}]},{kind:"Folder",name:"Next.js",route:"/Next.js",children:[{kind:"MdxPage",name:"00-00-getting-started",route:"/Next.js/00-00-getting-started",frontMatter:{title:"00-00 Next.js Getting Started",description:"เริ่มต้นกับ Next.js"}},{kind:"MdxPage",name:"00-01-Installation",route:"/Next.js/00-01-Installation",frontMatter:{title:"00-01 การติดตั้ง Next.js (Installation)",description:"การติดตั้ง Next.js"}},{kind:"MdxPage",name:"00-02-Project-Structure",route:"/Next.js/00-02-Project-Structure",frontMatter:{title:"00-02 โครงสร้างไฟล์และโฟลเดอร์ใน Next.js (Next.js Project Structure)",description:"การติดตั้ง Next.js"}},{kind:"Folder",name:"01-Routing",route:"/Next.js/01-Routing",children:[{kind:"MdxPage",name:"01-00-App-Router",route:"/Next.js/01-Routing/01-00-App-Router",frontMatter:{title:"01-00 App Router",description:"บทนำเข้าสู่ App Router"}},{kind:"MdxPage",name:"01-01-Routing-Fundamentals",route:"/Next.js/01-Routing/01-01-Routing-Fundamentals",frontMatter:{title:"01-01 Routing Fundamentals",description:"ความรู้พื้นฐานเกี่ยวกับ Routing"}},{kind:"MdxPage",name:"01-02-Defining-Routes",route:"/Next.js/01-Routing/01-02-Defining-Routes",frontMatter:{title:"01-02 Defining Routes",description:"การกำหนด Route"}},{kind:"MdxPage",name:"01-03-Pages-and-Layouts",route:"/Next.js/01-Routing/01-03-Pages-and-Layouts",frontMatter:{title:"01-03 การสร้าง Pages และ Layouts",description:"การสร้าง Pages และ Layouts ด้วย TypeScript"}},{kind:"MdxPage",name:"01-04-Linking-and-Navigating",route:"/Next.js/01-Routing/01-04-Linking-and-Navigating",frontMatter:{title:"01-04 Linking and Navigating",description:"การสร้าง Link และ Navigation ใน Next.js"}},{kind:"MdxPage",name:"01-05-Route-Groups",route:"/Next.js/01-Routing/01-05-Route-Groups",frontMatter:{title:"01-05 การจัดกลุ่มของ Routes (Route Groups)",description:"การจัดกลุ่มของ Routes ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-06-Dynamic-Routes",route:"/Next.js/01-Routing/01-06-Dynamic-Routes",frontMatter:{title:"01-06 Dynamic Routes",description:"การจัดการ Dynamic Routes ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-07-Loading-UI-and-Streaming",route:"/Next.js/01-Routing/01-07-Loading-UI-and-Streaming",frontMatter:{title:"01-07 Loading UI and Streaming",description:"การใช้ Loading UI และ Streaming ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-08-Error-Handling",route:"/Next.js/01-Routing/01-08-Error-Handling",frontMatter:{title:"01-08 Error Handling",description:"การจัดการกับ Error ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-09-Parallel-Routes",route:"/Next.js/01-Routing/01-09-Parallel-Routes",frontMatter:{title:"01-09 Parallel Routes",description:"การทำงานแบบ Parallel Routes ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-10-Intercepting-Routes",route:"/Next.js/01-Routing/01-10-Intercepting-Routes",frontMatter:{title:"01-10 Intercepting Routes",description:"การทำงานแบบ Intercepting Routes ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-11-Route-Handlers",route:"/Next.js/01-Routing/01-11-Route-Handlers",frontMatter:{title:"01-11 Route Handlers",description:"การจัดการ Routes (Route Handlers) ใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-12-Middleware",route:"/Next.js/01-Routing/01-12-Middleware",frontMatter:{title:"01-12 Middleware",description:"การใช้ Middleware เพื่อ run code ก่อนที่ request จะทำงานเสร็จใน App Router ของ Next.js"}},{kind:"MdxPage",name:"01-13-colocation",route:"/Next.js/01-Routing/01-13-colocation",frontMatter:{title:"01-13 Project Organization and File Colocation",description:"Learn how to organize your Next.js project and colocate files."}},{kind:"MdxPage",name:"01-14-internationallization",route:"/Next.js/01-Routing/01-14-internationallization",frontMatter:{title:"01-14 Internationalization",description:"Add support for multiple languages with internationalized routing and localized content."}},{kind:"Meta",data:{"01-00-App-Router":"01-00 App Router","01-01-Routing-Fundamentals":"01-01 Routing Fundamentals","01-02-Defining-Routes":"01-02 Defining Routes","01-03-Pages-and-Layouts":"01-03 การสร้าง Pages และ Layouts","01-04-Linking-and-Navigating":"01-04 Linking and Navigating","01-05-Route-Groups":"01-05 การจัดกลุ่มของ Routes (Route Groups)","01-06-Dynamic-Routes":"01-06 Dynamic Routes","01-07-Loading-UI-and-Streaming":"01-07 Loading UI and Streaming","01-08-Error-Handling":"01-08 Error Handling","01-09-Parallel-Routes":"01-09 Parallel Routes","01-10-Intercepting-Routes":"01-10 Intercepting Routes","01-11-Route-Handlers":"01-11 Route Handlers","01-12-Middleware":"01-12 Middleware","01-13-colocation":"01-13 Project Organization and File Colocation","01-14-internationallization":"01-14 Internationalization"}}]},{kind:"Folder",name:"02-data-fetching",route:"/Next.js/02-data-fetching",children:[{kind:"MdxPage",name:"02-01-fetching-caching-and-revalidating",route:"/Next.js/02-data-fetching/02-01-fetching-caching-and-revalidating",frontMatter:{title:"Data Fetching, Caching, and Revalidating",description:"Learn how to fetch, cache, and revalidate data in your Next.js application."}},{kind:"MdxPage",name:"02-02-server-actions-and-mutations",route:"/Next.js/02-data-fetching/02-02-server-actions-and-mutations",frontMatter:{title:"Server Actions and Mutations",description:"Learn how to handle form submissions and data mutations with Next.js."}},{kind:"MdxPage",name:"02-03-patterns",route:"/Next.js/02-data-fetching/02-03-patterns",frontMatter:{title:"Patterns and Best Practices",description:"Learn about common data fetching patterns in React and Next.js."}},{kind:"MdxPage",name:"index",route:"/Next.js/02-data-fetching",frontMatter:{title:"Data Fetching",description:"Learn how to fetch, cache, revalidate, and mutate data with Next.js."}},{kind:"Meta",data:{index:"Data Fetching","02-01-fetching-caching-and-revalidating":"Data Fetching, Caching, and Revalidating","02-03-patterns":"Patterns and Best Practices","02-02-server-actions-and-mutations":"Server Actions and Mutations"}}]},{kind:"Meta",data:{home:{title:"back to TheModCoding",type:"page",href:"https://themodcoding.vercel.app",newWindow:!0},"00-00-getting-started":"00-00 Next.js Getting Started","00-01-Installation":"00-01 การติดตั้ง Next.js (Installation)","00-02-Project-Structure":"00-02 โครงสร้างไฟล์และโฟลเดอร์ใน Next.js (Next.js Project Structure)"}}]},{kind:"Meta",data:{index:{title:"Home",type:"page"},"Next.js":{title:"Next.js",type:"page"},Expressjs:{title:"Express.js",type:"page"},themodcoding:{title:"TheModCoding",type:"page",href:"https://themodcoding.vercel.app",newWindow:!0}}},{kind:"MdxPage",name:"index",route:"/"}],flexsearch:{codeblocks:!0},title:"01-04 Linking and Navigating",headings:c},pageNextRoute:"/Next.js/01-Routing/01-04-Linking-and-Navigating",nextraLayout:t.ZP,themeConfig:o.Z};var h=(0,r.j)(d)},9812:function(e,s,n){"use strict";var i=n(5893);n(7294);let r={logo:(0,i.jsx)("span",{children:"document.ModTdin"}),project:{link:"https://github.com/Tuengdin/themoddocu"},docsRepositoryBase:"https://github.com/shuding/nextra-docs-template",footer:{text:"document.ModTdin.com"}};s.Z=r}},function(e){e.O(0,[774,361,888,179],function(){return e(e.s=3967)}),_N_E=e.O()}]);